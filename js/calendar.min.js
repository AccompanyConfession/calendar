(function(V,e,c,X){var E="";var a="";var K="";var Q=["←","","→","←","","→","本月"];var h=["←","","→","←","","→","now"];var i=["日","一","二","三","四","五","六"];var b=["SUN","MON","TUE","WED","THU","FRI","SAT"];var G=[31,0,31,30,31,30,31,31,30,31,30,31];var H;var R=function(l,k){this.$element=l,this.defaults={"isZhGlo":true,"selectNowStyle":{color:"red"},"selectStyle":{color:"blue"},"selectArry":[],"doSomethingMouseoverFun":Z,"changeTimeFun":P,"selectCaleFun":A},this.options=V.extend({},this.defaults,k)};V.fn.loadCalendar=function(k){E=this;calendar=new R(this,k);H=calendar.options;C();J();O();D();S();g();d(H.selectArry);return calendar};function C(){V(E).empty();V(E).append("<div class='container-cale'>	  <div class='top-cale' id='top-cale'></div>	  <div class='center-cale' id='center-cale'></div>	  <div class='bottom-cale' id='bottom-cale'></div></div>")}function J(){var k=new Date();a=k.getFullYear();K=k.getMonth()+1;M();F()}function M(){Q[1]=a;h[1]=a;Q[4]=K;h[4]=K}function O(){V("#top-cale").empty();if(H.isZhGlo){for(var k in Q){V("#top-cale").append("<div>"+Q[k]+"</div>")}}else{for(var k in h){V("#top-cale").append("<div>"+h[k]+"</div>")}}}function D(){V("#center-cale").empty();if(H.isZhGlo){for(var k in i){V("#center-cale").append("<div>"+i[k]+"</div>")}}else{for(var k in b){V("#center-cale").append("<div>"+b[k]+"</div>")}}}function S(){V("#top-cale div:nth-child(1)").bind("click",function(){f()});V("#top-cale div:nth-child(3)").bind("click",function(){W()});V("#top-cale div:nth-child(4)").bind("click",function(){L()});V("#top-cale div:nth-child(6)").bind("click",function(){U()});V("#top-cale div:nth-child(7)").bind("click",function(){T()})}function f(){a=a-1;M();V("#top-cale div:nth-child(2)").text(a);F();g();H.changeTimeFun(a,K)}function W(){a=a+1;M();V("#top-cale div:nth-child(2)").text(a);F();g();H.changeTimeFun(a,K)}function F(){if(Y(a)){G[1]=29}else{G[1]=28}}function L(){if(K==1){return}K=K-1;M();V("#top-cale div:nth-child(5)").text(K);g();H.changeTimeFun(a,K)}function U(){if(K==12){return}K=K+1;M();V("#top-cale div:nth-child(5)").text(K);g();H.changeTimeFun(a,K)}function T(){J();V("#top-cale div:nth-child(2)").text(a);V("#top-cale div:nth-child(5)").text(K);g();H.changeTimeFun(a,K)}function g(){V("#bottom-cale").empty();var q=N(a,K);for(var k=1-q;k<G[K-1]+2;k++){if(k<=0){V("#bottom-cale").append("<div class='cale-item'>	<div date='' style='color:#fff' class='cale-day'>0</div>	<div class='cale-meg' id='cale-meg"+k+"'></div> 	</div>")}else{if(k>G[K-1]){break}V("#bottom-cale").append("<div class='cale-item'>	<div date='"+k+"' class='cale-day' >"+k+"</div>	<div class='cale-meg' id='cale-meg"+k+"'></div><div>")}}V(".cale-item div[class=cale-day]").mouseover(function(){j(this)});V(".cale-item div[class=cale-day]").mouseout(function(){I(this)});V(".cale-item div[class=cale-day]").bind("click",function(){B(this)});var m=new Date();var n=m.getFullYear();var l=m.getMonth()+1;var o=m.getDate();if(n==a&&l==K){var p="#bottom-cale div[date="+o+"]";V(p).css(H.selectNowStyle)}}function Y(k){if((k%4==0&&k%100!=0)||k%400==0){return true}else{return false}}function N(m,l,k){k=1;var n=new Date(m+"/"+l+"/"+k);return n.getDay()}function j(k){var l=V(k).attr("date");V("#cale-meg"+l).css("display","inline-block");var m=a+"-"+K+"-"+l;V("#cale-meg"+l).text(H.doSomethingMouseoverFun(m))}function I(k){var l=V(k).attr("date");V("#cale-meg"+l).css("display","none")}R.prototype.selectFreshFun=function(k){d(k)};function d(l){for(var m in l){if(l[m].year==a&&l[m].month==K){var k="#bottom-cale div[date="+l[m].day+"]";V(k).css(H.selectStyle)}}}function Z(k){return k}function P(l,k){}function B(k){var l=V(k).attr("date");H.selectCaleFun(a,K,l)}function A(m,l,k){}})(jQuery,window,document);